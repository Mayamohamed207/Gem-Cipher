/* src/components/MatrixBackground/MatrixBackground.module.css - MOBILE RESPONSIVE */

/* Default (Dark Mode) Matrix colors */
.cardContainer {
    position: relative;
    width: 100%;
    max-width: 100vw;
    margin: 0;
    background: var(--bg1);
    overflow: hidden; 
    transition: background 0.3s ease;
    /* Height is determined by content by default */
}

/* Light mode container */
:global(.theme-light) .cardContainer,
:global(body.light-mode) .cardContainer {
    background: var(--bg1);
}

/* ----------------- MATRIX LAYER STYLES ----------------- */
.matrix {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1; 
    background: var(--bg1);
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(28px, 1fr));
    grid-auto-rows: 28px;
    font-size: 22px;
    box-sizing: border-box;
    overflow: hidden;
    transition: background 0.3s ease;
}

/* Dark Mode Matrix Glyphs (unchanged) */
.matrix > span {
    text-align: center;
    user-select: none;
    line-height: 1;
    color: rgba(210, 160, 30, 0.4);
    text-shadow: 0 0 3px rgba(255, 187, 0, 0.3);
    transition: color 0.5s, text-shadow 0.5s;
    animation: smooth-pulse-dark 5s ease-in-out infinite; 
}

/* Light Mode Matrix Glyphs (unchanged) */
:global(.theme-light) .matrix > span,
:global(body.light-mode) .matrix > span {
    color: rgba(217, 101, 15, 0.3);
    text-shadow: 0 0 3px rgba(217, 101, 15, 0.2);
    animation: smooth-pulse-light 5s ease-in-out infinite;
}

/* ----------------- CONTENT LAYER STYLES ----------------- */
.contentLayer {
    position: relative;
    z-index: 2; 
    text-align: center;
    background: linear-gradient(
        to bottom, 
        rgba(8, 6, 3, 0.7) 0%, 
        rgba(8, 6, 3, 0.2) 20%, 
        rgba(8, 6, 3, 0) 100%
    );
    padding: 0; 
    transition: background 0.3s ease;
    width: 100%;
    /* Added min-height to ensure it always covers the space */
    min-height: 450px; 
}

/* Light Mode Content Layer (unchanged) */
:global(.theme-light) .contentLayer,
:global(body.light-mode) .contentLayer {
    background: linear-gradient(
        to bottom, 
        rgba(255, 249, 223, 0.6) 0%, 
        rgba(255, 249, 223, 0.15) 20%, 
        rgba(255, 249, 223, 0) 100%
    );
}

/* ----------------- DARK MODE ANIMATION (unchanged) ----------------- */
@keyframes smooth-pulse-dark {
    /* ... (omitted for brevity) ... */
}

/* ----------------- LIGHT MODE ANIMATION (unchanged) ----------------- */
@keyframes smooth-pulse-light {
    /* ... (omitted for brevity) ... */
}

/* ----------------- RESPONSIVE BREAKPOINTS ----------------- */

/* Tablets (landscape) - (unchanged) */
@media (max-width: 1200px) {
    .matrix {
        grid-template-columns: repeat(auto-fill, minmax(26px, 1fr));
        grid-auto-rows: 26px;
        font-size: 21px;
    }
}

/* Tablets (portrait) - (unchanged) */
@media (max-width: 992px) {
    .matrix {
        grid-template-columns: repeat(auto-fill, minmax(24px, 1fr));
        grid-auto-rows: 24px;
        font-size: 20px;
    }
}

/* Mobile (large phones) - (unchanged grid/gradient) */
@media (max-width: 768px) {
    .matrix {
        grid-template-columns: repeat(auto-fill, minmax(22px, 1fr));
        grid-auto-rows: 22px;
        font-size: 18px;
    }
    
    .contentLayer {
        background: linear-gradient(
            to bottom, 
            rgba(8, 6, 3, 0.75) 0%, 
            rgba(8, 6, 3, 0.25) 15%, 
            rgba(8, 6, 3, 0) 100%
        );
    }
    
    :global(.theme-light) .contentLayer,
    :global(body.light-mode) .contentLayer {
        background: linear-gradient(
            to bottom, 
            rgba(255, 249, 223, 0.65) 0%, 
            rgba(255, 249, 223, 0.2) 15%, 
            rgba(255, 249, 223, 0) 100%
        );
    }
}

/* Mobile (medium phones) - (reduced height starts here) */
@media (max-width: 600px) {
    .matrix {
        grid-template-columns: repeat(auto-fill, minmax(20px, 1fr));
        grid-auto-rows: 20px;
        font-size: 17px;
    }

    /* Set a fixed short height for the Matrix container */
    .cardContainer {
        height: 100px; /* Short height for navbar effect */
    }
    .matrix {
        height: 100px; /* Match the container height */
    }
    .contentLayer {
        min-height: 100px; /* Match the container height */
    }
}

/* Mobile (small phones) - (adjusted grid/gradient) */
@media (max-width: 480px) {
    .matrix {
        grid-template-columns: repeat(auto-fill, minmax(18px, 1fr));
        grid-auto-rows: 18px;
        font-size: 15px;
    }
    
    .contentLayer {
        background: linear-gradient(
            to bottom, 
            rgba(8, 6, 3, 0.8) 0%, 
            rgba(8, 6, 3, 0.3) 12%, 
            rgba(8, 6, 3, 0) 100%
        );
    }
    
    :global(.theme-light) .contentLayer,
    :global(body.light-mode) .contentLayer {
        background: linear-gradient(
            to bottom, 
            rgba(255, 249, 223, 0.7) 0%, 
            rgba(255, 249, 223, 0.25) 12%, 
            rgba(255, 249, 223, 0) 100%
        );
    }
}

/* Mobile (extra small phones) - (adjusted grid) */
@media (max-width: 360px) {
    .matrix {
        grid-template-columns: repeat(auto-fill, minmax(16px, 1fr));
        grid-auto-rows: 16px;
        font-size: 14px;
    }
}